<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <title></title>
  </head>
  <body>
    <template id="clock-template">
      <div>{{ time }}</div>
    </template>

    <main id="app"></main>

    <script type="module">
      import { createApp, defineComponent } from './vendor/vue.esm-browser.js';

      const Clock = defineComponent({
        name: 'Clock',

        data() {
          return {
            time: '',
            intervalId: null,
          };
        },

        created() {
          this.updateTime();
          this.intervalId = setInterval(() => {
            this.updateTime();
          }, 1000);
        },

        beforeUnmount() {
          clearInterval(this.intervalId);
        },

        methods: {
          updateTime() {
            this.time = new Date().toLocaleTimeString();
          },
        },

        template: `#clock-template`,
      });

      const vm = createApp(Clock).mount('#app');
    </script>
  </body>
</html>
